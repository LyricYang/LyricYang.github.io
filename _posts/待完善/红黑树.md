# 红黑树

>红黑树（Red Black Tree）是一种自平衡二叉查找树，是在计算机科学中用到的一种数据结构，典型的用途是实现关联数组。它是在1972年由Rudolf Bayer发明的，当时被称为平衡二叉B树（symmetric binary B-trees）。后来，在1978年被 Leo J. Guibas 和 Robert Sedgewick 修改为如今的“红黑树”。它的统计性能要好于平衡二叉树。

## 性质
- 性质1. 节点是红色或黑色。
- 性质2. 根节点是黑色。
- 性质3. 每个叶节点（NIL节点，空节点）是黑色的。
- 性质4. 每个红色节点的两个子节点都是黑色。(从每个叶子到根的所有路径上不能有两个连续的红色节点)
- 性质5. 从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点。

![](D:\Users\lin.yang\Desktop\备忘录\Knowledge\Algorithm\红黑树\c4c218cb-8560-44fd-a82c-af416d747ac7.png)

在插入和删除之后，红黑属性可能变得违规。恢复红黑属性需要少量(O(log n))的颜色变更(这在实践中是非常快速的)并且不超过三次树旋转(对于插入是两次)。

## 操作

- 左旋
![](https://img-blog.csdn.net/20170323102309404?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU3VuX1RUVFQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

- 右旋
![这里写图片描述](https://img-blog.csdn.net/20170323102237896?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU3VuX1RUVFQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

## 性能分析

>1.在最坏的情况下，红黑树的高度不超过2lgN
>2.红黑树的平均高度大约为lgN


- 以升序插入构建红黑树：
![insert in ascending order rb tree](https://images0.cnblogs.com/blog/94031/201403/270025580618642.gif)

- 以降序插入构建红黑树：
![insert in descend order rb tree](https://images0.cnblogs.com/blog/94031/201403/270026409838794.gif)

- 随机插入构建红黑树
![insert in random order rb tree](https://images0.cnblogs.com/blog/94031/201403/270027259528290.gif)